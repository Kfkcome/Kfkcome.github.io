<!DOCTYPE html><html lang="zh-Hans">
  <head><!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-LVD2CPW3EW"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-LVD2CPW3EW');
		
	</script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>Tool Learning with Foundation Models 论文笔记 - Ennis's Blog</title>

<meta name="description" content="Tool Learning with Foundation Models 论文笔记">
<link rel="canonical" href="/2024/11/18/Tool-Learning-with-Foundation-Models-%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0.html"><link rel="alternate" type="application/rss+xml" title="Ennis's Blog" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet --><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css" ><!-- start custom head snippets -->

<!-- end custom head snippets -->
<script>(function() {
  window.isArray = function(val) {
    return Object.prototype.toString.call(val) === '[object Array]';
  };
  window.isString = function(val) {
    return typeof val === 'string';
  };

  window.hasEvent = function(event) {
    return 'on'.concat(event) in window.document;
  };

  window.isOverallScroller = function(node) {
    return node === document.documentElement || node === document.body || node === window;
  };

  window.isFormElement = function(node) {
    var tagName = node.tagName;
    return tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';
  };

  window.pageLoad = (function () {
    var loaded = false, cbs = [];
    window.addEventListener('load', function () {
      var i;
      loaded = true;
      if (cbs.length > 0) {
        for (i = 0; i < cbs.length; i++) {
          cbs[i]();
        }
      }
    });
    return {
      then: function(cb) {
        cb && (loaded ? cb() : (cbs.push(cb)));
      }
    };
  })();
})();
(function() {
  window.throttle = function(func, wait) {
    var args, result, thisArg, timeoutId, lastCalled = 0;

    function trailingCall() {
      lastCalled = new Date;
      timeoutId = null;
      result = func.apply(thisArg, args);
    }
    return function() {
      var now = new Date,
        remaining = wait - (now - lastCalled);

      args = arguments;
      thisArg = this;

      if (remaining <= 0) {
        clearTimeout(timeoutId);
        timeoutId = null;
        lastCalled = now;
        result = func.apply(thisArg, args);
      } else if (!timeoutId) {
        timeoutId = setTimeout(trailingCall, remaining);
      }
      return result;
    };
  };
})();
(function() {
  var Set = (function() {
    var add = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (data[i] === item) {
          return;
        }
      }
      this.size ++;
      data.push(item);
      return data;
    };

    var Set = function(data) {
      this.size = 0;
      this._data = [];
      var i;
      if (data.length > 0) {
        for (i = 0; i < data.length; i++) {
          add.call(this, data[i]);
        }
      }
    };
    Set.prototype.add = add;
    Set.prototype.get = function(index) { return this._data[index]; };
    Set.prototype.has = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (this.get(i) === item) {
          return true;
        }
      }
      return false;
    };
    Set.prototype.is = function(map) {
      if (map._data.length !== this._data.length) { return false; }
      var i, j, flag, tData = this._data, mData = map._data;
      for (i = 0; i < tData.length; i++) {
        for (flag = false, j = 0; j < mData.length; j++) {
          if (tData[i] === mData[j]) {
            flag = true;
            break;
          }
        }
        if (!flag) { return false; }
      }
      return true;
    };
    Set.prototype.values = function() {
      return this._data;
    };
    return Set;
  })();

  window.Lazyload = (function(doc) {
    var queue = {js: [], css: []}, sources = {js: {}, css: {}}, context = this;
    var createNode = function(name, attrs) {
      var node = doc.createElement(name), attr;
      for (attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          node.setAttribute(attr, attrs[attr]);
        }
      }
      return node;
    };
    var end = function(type, url) {
      var s, q, qi, cbs, i, j, cur, val, flag;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        s[url] = true;
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (cur.urls.has(url)) {
            qi = cur, val = qi.urls.values();
            qi && (cbs = qi.callbacks);
            for (flag = true, j = 0; j < val.length; j++) {
              cur = val[j];
              if (!s[cur]) {
                flag = false;
              }
            }
            if (flag && cbs && cbs.length > 0) {
              for (j = 0; j < cbs.length; j++) {
                cbs[j].call(context);
              }
              qi.load = true;
            }
          }
        }
      }
    };
    var load = function(type, urls, callback) {
      var s, q, qi, node, i, cur,
        _urls = typeof urls === 'string' ? new Set([urls]) : new Set(urls), val, url;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (_urls.is(cur.urls)) {
            qi = cur;
            break;
          }
        }
        val = _urls.values();
        if (qi) {
          callback && (qi.load || qi.callbacks.push(callback));
          callback && (qi.load && callback());
        } else {
          q.push({
            urls: _urls,
            callbacks: callback ? [callback] : [],
            load: false
          });
          for (i = 0; i < val.length; i++) {
            node = null, url = val[i];
            if (s[url] === undefined) {
              (type === 'js' ) && (node = createNode('script', { src: url }));
              (type === 'css') && (node = createNode('link', { rel: 'stylesheet', href: url }));
              if (node) {
                node.onload = (function(type, url) {
                  return function() {
                    end(type, url);
                  };
                })(type, url);
                (doc.head || doc.body).appendChild(node);
                s[url] = false;
              }
            }
          }
        }
      }
    };
    return {
      js: function(url, callback) {
        load('js', url, callback);
      },
      css: function(url, callback) {
        load('css', url, callback);
      }
    };
  })(this.document);
})();
</script><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css',
        jquery: 'https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js',
        gitalk: {
          js: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        mathjax: '/assets/MathJax/MathJax.js?config=TeX-MML-AM_CHTML',
        mermaid: 'https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h1,h2,h3'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__main--immersive page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 24 24">
<style type="text/css">
	.st0{fill:#515151;}
</style>
<path class="st0" d="M1.7,22.3c5.7-5.7,11.3-5.7,17,0c3.3-3.3,3.5-5.3,0.8-6c2.7,0.7,3.5-1.1,2.3-5.6s-3.3-5.2-6.3-2.1
	c3-3,2.3-5.2-2.1-6.3S7,1.8,7.7,4.6C7,1.8,5,2.1,1.7,5.3C7.3,11,7.3,16.7,1.7,22.3"/>
</svg>
<a title="Willing to be a question, willing to be an answer.
" href="/">Ennis's Blog</a></div><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/">主页</a></li><li class="navigation__item"><a href="/archive.html">归档</a></li><li class="navigation__item"><a href="/about.html">关于</a></li><li><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class="article__header--overlay"><div class="hero overlay" style="background-image:;background-color:#f1f8ff;"><div class="hero__content"><div class ="main"><div class="article__info clearfix"><ul class="left-col menu"><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=nlp">nlp</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86">自然语言处理</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive.html?tag=%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0">论文笔记</a>
            </li></ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>2024年 11月18日</span>
            </li><li><i class="far fa-eye"></i> <span class="js-pageview" data-page-key="post69">0</span> 阅读</li></ul></div><div class="article__header"><header><h1>Tool Learning with Foundation Models 论文笔记</h1></header><span class="split-space">&nbsp;</span>
          <a class="edit-on-github"
            title="在 Github 上修改"
            href="https://github.com/Kfkcome/Kfkcome.github.io/tree/master/_posts/论文笔记/2024-11-18-Tool Learning with Foundation Models 论文笔记.md">
            <i class="far fa-edit"></i></a></div><p class="overlay__excerpt">Tool Learning with Foundation Models 论文笔记</p></div></div>
              </div>
            </div><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><meta itemprop="headline" content="Tool Learning with Foundation Models 论文笔记"><meta itemprop="author" content="Xingjie Gao"/><meta itemprop="datePublished" content="2024-11-18T00:00:00+08:00">
    <meta itemprop="keywords" content="nlp,自然语言处理,论文笔记"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><h1 id="tool-learning-with-foundation-models-论文笔记">Tool Learning with Foundation Models 论文笔记</h1>

<!---more-->

<h2 id="不懂的知识">不懂的知识</h2>

<h3 id="概念工具">概念工具</h3>

<p><strong>概念工具</strong>（Conceptual Tools）是指帮助人类理解、分析、解决问题或推动学习与创新的一种抽象工具。这些工具通常以思想、模型、框架或方法论的形式存在，旨在扩展人类的认知能力，而不是直接作用于物理世界。它们为我们提供结构化的方式来处理复杂的信息和概念问题，支持逻辑推理、知识构建和创造性思维。</p>

<hr />

<h4 id="概念工具的核心特点">概念工具的核心特点</h4>

<ol>
  <li><strong>抽象性</strong>：概念工具以非物理形式存在，更多是思想和方法的体现，例如理论模型或数学公式。</li>
  <li><strong>广泛适用性</strong>：它们可以跨学科、跨领域应用，用于多种场景的问题解决和知识深化。</li>
  <li><strong>认知扩展</strong>：通过系统化的思维方式或结构化框架，帮助人类简化复杂问题或生成新的见解。</li>
  <li><strong>非依赖性</strong>：与具体的物理工具不同，概念工具存在于人类的思维过程中，可以通过学习和训练掌握。</li>
</ol>

<hr />

<h4 id="常见的概念工具类型">常见的概念工具类型</h4>

<ol>
  <li>
    <p><strong>框架和模型（Frameworks and Models）</strong></p>

    <ul>
      <li>描述现实世界的一种简化或抽象。</li>
      <li>示例：SWOT分析（用于战略规划），供需模型（经济学）。</li>
    </ul>
  </li>
  <li>
    <p><strong>逻辑和推理工具（Logical and Reasoning Tools）</strong></p>

    <ul>
      <li>提供系统化的思维方法，用于推理和决策。</li>
      <li>示例：归纳推理、演绎推理、决策树。</li>
    </ul>
  </li>
  <li>
    <p><strong>符号和语言系统（Symbolic and Language Systems）</strong></p>

    <ul>
      <li>帮助描述和传递复杂的抽象概念。</li>
      <li>示例：数学符号、编程语言、逻辑表达式。</li>
    </ul>
  </li>
  <li>
    <p><strong>类比与隐喻（Analogies and Metaphors）</strong></p>

    <ul>
      <li>通过将新概念与已知概念关联，促进理解。</li>
      <li>示例：用水流比作电流，用“DNA是生命的代码”形容遗传信息。</li>
    </ul>
  </li>
  <li>
    <p><strong>思维与学习方法（Cognitive and Learning Strategies）</strong></p>

    <ul>
      <li>支持信息组织、问题解决和知识构建。</li>
      <li>示例：思维导图、问题解决的建构主义方法。</li>
    </ul>
  </li>
</ol>

<hr />

<h4 id="概念工具的功能">概念工具的功能</h4>

<ol>
  <li>
    <p><strong>简化复杂性</strong>：通过提供结构化框架或模型，帮助人类分解复杂问题，使其更易于分析和理解。</p>

    <ul>
      <li>例如，用供应链模型简化全球物流的运作分析。</li>
    </ul>
  </li>
  <li>
    <p><strong>支持逻辑推理与决策</strong>：概念工具为推理提供指导或验证逻辑链条的工具。</p>

    <ul>
      <li>例如，布尔逻辑真值表用于计算复杂的逻辑表达式。</li>
    </ul>
  </li>
  <li>
    <p><strong>促进创新与创造性思维</strong>：通过新颖的视角或框架激发创造力。</p>

    <ul>
      <li>例如，类比思维促使我们从生物学现象中获取技术灵感（仿生学）。</li>
    </ul>
  </li>
  <li>
    <p><strong>提升学习与认知效率</strong>：通过认知工具（如学习软件）减少负担，将注意力集中在高级认知任务上。</p>

    <ul>
      <li>例如，在线学习工具让学生专注于知识应用，而非信息收集。</li>
    </ul>
  </li>
  <li>
    <p><strong>跨学科连接</strong>：帮助整合不同领域的知识，形成综合性解决方案。</p>

    <ul>
      <li>例如，生态系统模型结合了生物学、物理学和经济学的知识。</li>
    </ul>
  </li>
</ol>

<hr />

<h4 id="概念工具与物理工具的对比">概念工具与物理工具的对比</h4>

<table>
  <thead>
    <tr>
      <th>特性</th>
      <th>概念工具</th>
      <th>物理工具</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>存在形式</strong></td>
      <td>抽象、基于思想和逻辑</td>
      <td>具体、作用于物理世界</td>
    </tr>
    <tr>
      <td><strong>作用范围</strong></td>
      <td>支持认知活动，帮助分析和解决问题</td>
      <td>辅助完成实际操作任务</td>
    </tr>
    <tr>
      <td><strong>例子</strong></td>
      <td>数学模型、逻辑推理、思维框架</td>
      <td>锤子、剪刀、计算机硬件</td>
    </tr>
    <tr>
      <td><strong>应用场景</strong></td>
      <td>思维活动、学习、创新</td>
      <td>建筑、制造、日常物理操作</td>
    </tr>
  </tbody>
</table>

<hr />

<h4 id="总结">总结</h4>

<p>概念工具是人类认知能力的延伸，帮助我们以系统化、逻辑化的方式应对复杂性。这些工具存在于思想中，通过模型、框架或推理方式引导学习和解决问题的过程。它们广泛应用于教育、科学研究、商业战略、技术开发等领域，是推动知识增长和创新的重要资源。</p>

<h3 id="认知工具">认知工具</h3>

<p><strong>认知工具</strong>（Cognitive Tools）是用于辅助人类思维、学习和解决问题的一类工具。它们的主要功能是增强人类的认知能力，而不是替代人的思维。这些工具可以是抽象的概念（如思维模型）或具体的技术（如软件），能够帮助人们更高效地组织信息、推理、分析和创造。</p>

<hr />

<h4 id="认知工具的特点">认知工具的特点</h4>

<ol>
  <li><strong>辅助作用</strong>：认知工具是人类认知活动的扩展器，帮助提高效率，而不是直接完成任务。</li>
  <li><strong>增强学习与推理</strong>：它们特别适用于复杂问题的学习、分析和解决，促进深度思考。</li>
  <li><strong>动态性</strong>：许多认知工具可以随着任务需求而灵活适配，帮助人们应对多样化的认知挑战。</li>
  <li><strong>个性化</strong>：认知工具常被用于个性化学习或工作场景，为用户提供定制化的支持。</li>
</ol>

<hr />

<h4 id="认知工具的功能">认知工具的功能</h4>

<p>认知工具的功能可以大致归纳为以下几个方面：</p>

<ol>
  <li>
    <p><strong>支持认知过程</strong>：</p>

    <ul>
      <li>帮助用户记录思考过程或中间结果。</li>
      <li>提供直观的组织和分析复杂信息的方式。</li>
      <li>例如：笔记软件、思维导图工具。</li>
    </ul>
  </li>
  <li>
    <p><strong>减轻认知负担</strong>：</p>

    <ul>
      <li>自动完成某些低级别的认知任务（如记忆或简单运算），从而让用户专注于更高层次的思维任务。</li>
      <li>例如：计算器、语法检查工具。</li>
    </ul>
  </li>
  <li>
    <p><strong>激发创造性思维</strong>：</p>

    <ul>
      <li>提供新颖的视角或灵感，帮助用户生成新的想法。</li>
      <li>例如：头脑风暴软件、AI辅助设计工具。</li>
    </ul>
  </li>
  <li>
    <p><strong>模拟和测试</strong>：</p>

    <ul>
      <li>创建虚拟环境，让用户实验和测试假设。</li>
      <li>例如：虚拟实验室、医学模拟工具。</li>
    </ul>
  </li>
  <li>
    <p><strong>支持学习和技能发展</strong>：</p>

    <ul>
      <li>帮助用户学习复杂知识或技能，通过交互性工具提高理解能力。</li>
      <li>例如：在线学习平台、游戏化学习工具。</li>
    </ul>
  </li>
</ol>

<hr />

<h4 id="认知工具的类型与示例">认知工具的类型与示例</h4>

<ol>
  <li>
    <p><strong>组织和结构化工具</strong></p>

    <ul>
      <li>用于整理和结构化思维的工具。</li>
      <li>示例：思维导图工具（MindMeister）、Kanban任务板（Trello）。</li>
    </ul>
  </li>
  <li>
    <p><strong>学习和教育工具</strong></p>

    <ul>
      <li>支持学习过程的工具，通常提供个性化的学习体验。</li>
      <li>示例：语言学习应用（如 Duolingo）、在线课程平台（如 Coursera）。</li>
    </ul>
  </li>
  <li>
    <p><strong>数据分析和可视化工具</strong></p>

    <ul>
      <li>帮助用户分析数据并以图形化方式呈现结果。</li>
      <li>示例：Excel、Tableau。</li>
    </ul>
  </li>
  <li>
    <p><strong>逻辑与推理工具</strong></p>

    <ul>
      <li>用于支持用户进行逻辑推理和批判性思考。</li>
      <li>示例：决策树软件、布尔逻辑验证工具。</li>
    </ul>
  </li>
  <li>
    <p><strong>模拟和交互工具</strong></p>

    <ul>
      <li>提供虚拟环境让用户实验和测试。</li>
      <li>示例：医学诊断模拟工具、建筑设计模拟（如 SketchUp）。</li>
    </ul>
  </li>
  <li>
    <p><strong>AI驱动的认知工具</strong></p>

    <ul>
      <li>使用人工智能技术支持更复杂的任务，如生成内容或回答问题。</li>
      <li>示例：ChatGPT、图像生成工具。</li>
    </ul>
  </li>
</ol>

<hr />

<h4 id="认知工具的应用场景">认知工具的应用场景</h4>

<ol>
  <li>
    <p><strong>教育与培训</strong>：</p>

    <ul>
      <li>学生使用认知工具来增强理解能力和记忆力，例如通过在线学习工具学习新知识。</li>
    </ul>
  </li>
  <li>
    <p><strong>问题解决</strong>：</p>

    <ul>
      <li>专业人员使用认知工具进行问题分析和解决，例如使用数据分析工具挖掘商业趋势。</li>
    </ul>
  </li>
  <li>
    <p><strong>创造性活动</strong>：</p>

    <ul>
      <li>艺术家和设计师使用AI辅助工具进行创意生成，例如通过图像处理软件制作视觉内容。</li>
    </ul>
  </li>
  <li>
    <p><strong>研究与开发</strong>：</p>

    <ul>
      <li>科学家利用认知工具进行建模、仿真和数据处理，从而探索新现象或开发新技术。</li>
    </ul>
  </li>
</ol>

<hr />

<h4 id="认知工具与物理工具的对比">认知工具与物理工具的对比</h4>

<table>
  <thead>
    <tr>
      <th>特性</th>
      <th>认知工具</th>
      <th>物理工具</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>作用范围</strong></td>
      <td>扩展思维、分析、学习能力</td>
      <td>改变物理世界或完成物理任务</td>
    </tr>
    <tr>
      <td><strong>存在形式</strong></td>
      <td>抽象的概念或数字化形式</td>
      <td>具体的物体（如锤子、剪刀）</td>
    </tr>
    <tr>
      <td><strong>例子</strong></td>
      <td>思维导图、学习应用、AI工具</td>
      <td>锤子、螺丝刀、打印机</td>
    </tr>
  </tbody>
</table>

<hr />

<h4 id="总结-1">总结</h4>

<p>认知工具是人类思维能力的延伸，帮助我们更高效地完成复杂认知任务。它们在教育、科研、商业、创造性领域中都有广泛的应用，并随着技术进步（如人工智能的兴起）变得更加智能化和个性化。</p>

<h2 id="摘要">摘要</h2>

<h3 id="背景">背景：</h3>

<ol>
  <li>现状：LLM 有使用工具的潜力：这一范式被称为用基础模型进行工具学习，结合了专用工具和基础模型的优势，以实现问题解决中更高的准确性、效率和自动化。</li>
  <li>困难：缺乏对 LLM 使用工具的困难和挑战的全面理解</li>
</ol>

<h3 id="工作">工作：</h3>

<ol>
  <li><strong>介绍背景</strong>：我们首先介绍工具学习的背景，包括其认知起源、基础模型的范式转变以及工具与模型的互补角色。</li>
  <li><strong>指定框架</strong>：回顾现有的工具学习研究，并制定了一个通用的工具学习框架：
    <ol>
      <li>从理解用户指令开始，模型应学习将复杂任务分解为几个子任务，</li>
      <li>通过推理动态调整其计划，</li>
      <li>并通过选择适当的工具有效地征服每个子任务。</li>
    </ol>
  </li>
  <li><strong>讨论</strong>：我们还讨论了如何训练模型以提高工具使用能力，并促进工具学习中的泛化。</li>
  <li><strong>实验</strong>：对 18 种具有代表性的工具进行了实验，并展示了当前基础模型在熟练使用工具方面的潜力</li>
  <li><strong>讨论开发问题</strong>：讨论了一些需要进一步研究的工具学习开放问题，如确保安全和可信的工具使用、利用基础模型实现工具创建以及解决个性化挑战</li>
</ol>

<h2 id="引言">引言</h2>

<h3 id="工具学习的发展">工具学习的发展</h3>

<ol>
  <li>工具对人类有极大的帮助</li>
  <li>早期简单模型能力不足，使用工具学习比较困难</li>
  <li>近期更具能力的基础模型的出现，标志着能力大幅提升，使得工具学习变得可行</li>
  <li>基础模型+工具的范式出现，但是主要集中在一些特殊任务或领域上，对工具学习的理解仍然不够全面，无法估计其特征和未来发展。</li>
  <li>所以：审查和总结基于基础模型的工具学习的当前进展对于探索其潜力和挑战，并为未来的技术进步铺平道路至关重要。</li>
</ol>

<h3 id="本文工作大纲目录">本文工作（大纲&amp;目录）</h3>

<p>全面的调查工具学习的现状，理解工具学习的挑战、机遇和方向</p>

<ol>
  <li>==§2==  介绍背景
    <ol>
      <li>==§2.1== 人类历史上工具使用的认知起源及其对人工智能系统中工具使用的潜在影响</li>
      <li>==§2.2== 随后从用户界面的角度对工具进行了分类</li>
      <li>==§2.3== 回顾了基础模型带来的人工智能范式转变，强调了工具学习的出现及其重要性</li>
      <li>==§2.4== 讨论了工具和基础模型的互补作用，并认为将两者整合可以带来多种优势，</li>
    </ol>
  </li>
  <li>==§3== 现有工具学习探索的综合文献综述
    <ol>
      <li>==§3.1== 制定了一个通用的学习框架</li>
      <li>==§3.2==制定了整个工具学习的过程</li>
      <li>==§3.3==训练策略：从示范中学习和从反馈中学习</li>
      <li>为了促进将学习到的工具使用技能转移到新工具和新情况，即可推广的工具学习，设计一个统一接口，使模型能够以标准化的方式与不同工具互动是非常重要的。</li>
    </ol>
  </li>
  <li>==§4== 实验：我们基于我们的框架对 18 种代表性工具进行了实验（第 4 节），</li>
  <li>==§5== 讨论开放问题：讨论了我们的通用框架应用于现实世界场景所需关注的其他重要研究主题
    <ol>
      <li>==§5.1== 安全和可信的工具使用</li>
      <li>==§5.2== 针对大型复杂系统的工具学习</li>
      <li>==§5.3== 工具创造</li>
      <li>==§5.4== 个性化工具学习</li>
      <li>==§5.5== 具身学习与工具学习</li>
      <li>==§5.6== 工具学习中的知识冲突</li>
      <li>==§5.7== 其他未解决的问题</li>
    </ol>
  </li>
</ol>

<h2 id="背景-1">背景</h2>

<ol>
  <li>在本节中，我们首先讨论人类工具使用的认知起源（§ 2.1），</li>
  <li>接着通过用户界面的视角进行工具分类（§ 2.2）。</li>
  <li>然后，我们回顾基础模型带来的近期人工智能范式转变（§ 2.3）及其在工具学习中的重要性。</li>
  <li>之后，我们考察专业工具和基础模型在问题解决中的各自角色，并讨论它们整合的优势和挑战（§ 2.4）。</li>
</ol>

<h3 id="21-工具使用的认知起源">2.1 工具使用的认知起源</h3>

<ol>
  <li><strong>工具在数千年的人类进化历史中扮演了至关重要的角色</strong>。
    <ul>
      <li>人类与动物使用工具不同，人类能够制造出比其他动物更复杂的工具，这种能力可能归因于我们对因果关系的深刻理解，这使我们能进行技术推理</li>
    </ul>
  </li>
  <li><strong>人类使用工具的神经基础</strong>
    <ul>
      <li>顶叶系统：在工具使用研究中，顶叶系统被认为是处理工具操作和观察的核心区域：它协助我们理解物体的用途和与周围环境的关系。
  例如，当观察他人使用工具时，顶叶系统会被激活，帮助我们推测工具的功能以及如何使用。</li>
      <li>前上颞回：前上颞回会被激活，帮助我们理解工具的功能和使用方法（猕猴并没有表现出这一点）</li>
      <li>使用工具：认知科学的整体趋势是将认知理解为一种强调与外部世界互动的活动过程（Engel et al., 2013），而观察、沟通和动手实践的反馈对于掌握工具使用非常重要。</li>
    </ul>
  </li>
  <li><strong>工具使用的三种智力水平</strong>
    <ul>
      <li>Assistive tool : 使用通常是被动和无意识的 (例如，在雨棚走廊中行走）)</li>
      <li>Arbitrary tool : 任意工具使用需要主动互动（例如，驾驶、使用智能手机）</li>
      <li>Free tool : 自由工具使用进一步需要理解和选择适合场景的工具（例如，烹饪新的菜肴）</li>
      <li>在这个框架中，这三种工具使用模式呈现出递进关系，作者假设实现自由工具使用的关键认知过程是技术推理，这使得某人能够通过观察他人使用、选择或制作工具，而不是通过大量实践来学习新的动作。</li>
    </ul>
  </li>
  <li><strong>从物理工具到概念工具的过渡</strong>
    <ul>
      <li>认知工具：它指的是一种辅助工具，促进更高阶的思维（例如，多步批判性分析、创造性解决问题方案的产生）。</li>
      <li>认知工具可以根据其提供的功能进行分类（Lajoie &amp; Derry, 2013）。这些功能包括
        <ul>
          <li>(1) 支持认知过程（例如，记录中间推理结果），</li>
          <li>(2) 减轻低级认知负荷，以释放资源用于高级思维，</li>
          <li>(3) 使学习者能够参与超出他们能力范围的活动，</li>
          <li>(4) 允许学习者生成和测试假设（例如，为医学学生模拟诊断）。</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>弥合人类使用工具与机器使用工具之间的差距</strong>
    <ul>
      <li>首先，操控工具的能力深深植根于我们的认知和感知系统中，并在数百万年的进化中形成。相比之下，基础模型主要依赖于预训练数据的统计模式，基础模型的工具使用能力与人类相对而言仍存在显著差距。人类能够感知工具的属性，理解其功能，并识别适合每个任务的工具。（==§3.2.1§==讲解 LLM 该如何学习该过程）</li>
      <li>其次，人类擅长将复杂任务分解为更小的可管理子任务，并灵活地操控工具以完成每个子任务。然而，基础模型缺乏充分理解和利用工具所需的物理具身和感官体验。因此，这些模型在需要更高阶推理和适应性任务时常常难以应对，且无法有效整合多个知识和工具来源。（==§3.2.2§==讲如何更好地利用大模型的推理能力制定可执行计划）</li>
      <li>此外，当前将基础模型适应于学习特定工具的算法通常需要大量的监督数据（Nakano 等，2021；Reed 等，2022），这限制了其对更广泛工具或新情况的普适性和迁移能力。（==§ 3.3.1== 和 ==§ 3.3.2==总结了工具学习的训练策略  ==§ 3.3.3== 讨论如何促进工具学习的普适性和迁移性)</li>
    </ul>
  </li>
</ol>

<h3 id="22-工具分类用户界面视角">2.2 工具分类：用户界面视角</h3>

<p>本文的重点特别是那些可以通过指令与基础模型结合操作的工具。我们介绍了一种根据工具的表达和交互方式进行分类的系统。</p>

<p><img src="/assets/posts_assets/Pasted%20image%2020241125160243.png" alt="" /></p>

<ol>
  <li>物理工具：这类工具涉及与物理世界的直接交互，如机器人、传感器和可穿戴设备等，能够对环境产生实质影响。</li>
  <li>GUI 工具：一些工具允许用户通过交互界面进行操作，即工具的视觉表示，以及预定义的操作。这些工具被定义为基于 GUI 的工具，它们对物理世界没有直接影响。如像浏览器、Microsoft Office、Adobe PhotoShop 等经过良好开发的软件</li>
  <li>基于编程的工具：用户可以访问的最内层工具是源代码，为这些基于程序的工具的输入和输出提供了高度的灵活性。基于程序的工具是主要通过编程接口而非可视化接口设计的软件工具。它们可以有多种形式，包括声明性语言、编程库、软件开发工具包（SDK）甚至基于神经网络的工具。</li>
</ol>

<p>它们并不是严格互斥的，而是相互交织的倾向。人类有能力通过灵活执行不同类型的工具来处理复杂任务。本文认为，无论工具类型如何，基本上都可以通过建立中介接口来利用基础模型来执行它们。我们将在§3.3.3 中介绍统一不同工具接口的方法。</p>

<h3 id="23-基础模型的范式转变">2.3 基础模型的范式转变</h3>

<ol>
  <li>PLM 的作用：
    <ul>
      <li>PLM 出现，利用 PLM 作为基础设施，自然语言作为媒介统一执行各种任务，所有自然语言理解和生成过程均通过对话交互完成。</li>
      <li>PLM 的强大泛化能力使我们能够使用自然语言作为媒介，通过操控工具来完成这些任务。</li>
    </ul>
  </li>
  <li>工具学习可以被 PLM 支持的原因：
    <ul>
      <li><strong>本质上，工具学习的关键在于将复杂任务分解为子动作，以自然语言的形式对动作进行分词，并将其转换为特定工具能够理解的可执行指令。语言模型充当“翻译者”，使复杂任务对没有专业技术知识的个体更加可及。</strong></li>
    </ul>
  </li>
  <li>然而，仍然存在许多超出纯自然语言范围的任务。
    <ul>
      <li>例如：生成演示文稿、通过 CAD 应用程序构建 3 D 模型，以及通过分析团队成员日历安排会议，这些都是传统人工智能尚未定义的复杂任务。</li>
    </ul>
  </li>
  <li>工具学习未来展望
    <ul>
      <li>因此，虽然自然语言界面在语言领域内实现了统一（Hao et al., 2022），但非语言任务带来的挑战需要一种更先进的方法来利用自然语言和工具学习。通过利用自然语言的力量，我们可以创建能够理解和适应我们周围复杂和动态世界的系统，从而开启创新和发现的新途径。</li>
    </ul>
  </li>
</ol>

<h3 id="24-工具与基础模型的互补角色">2.4 工具与基础模型的互补角色</h3>

<p>专业工具与基础模型的整合代表了一种有前景的方法，以利用两者的独特优势。通过将基础模型的理解和推理能力融入专业工具中，我们可以创建能够执行比专业工具或基础模型单独更复杂任务的智能工具。具体而言，两者的结合带来了以下诸多好处。</p>

<h4 id="使用工具的好处">使用工具的好处</h4>

<ol>
  <li>减轻记忆负担：
    <ul>
      <li>尽管基础模型在记忆方面表现出色（Carlini et al., 2021, 2022, 2023），但它们并不能记住每一条训练数据。</li>
      <li>单靠记忆并不能支持实时更新知识</li>
      <li>基础模型还被批评为会幻想知识</li>
    </ul>
  </li>
  <li>提升专业性</li>
  <li>更好的可解释性。</li>
  <li>提升鲁棒性：LLM 的输入的轻微修改可以改变模型预测。这是因为这些模型在很大程度上依赖于训练数据中的统计模式。相反，工具是专门为其预期用途而设计的，这可能与输入扰动无关。</li>
</ol>

<h4 id="使用-llm-的好处">使用 LLM 的好处</h4>

<ol>
  <li>改善决策和推理能力</li>
  <li>更好的用户体验
    <ul>
      <li>得益于基础模型强大的意图理解能力，工具学习可能会彻底改变我们与机器的互动方式，并减轻用户的认知负担，使他们能够参与更高阶的思维和决策过程。这反过来又促进了一种无缝且更自然的基于语言的交互范式，彻底改变了传统的图形用户界面（GUI）。<strong>用户只需提供高层次的指导和方向，模型就能无缝理解用户的意图，从而提供更个性化和准确的响应。</strong></li>
      <li>降低了新用户的入门障碍，还为创新和创造力开启了无尽的可能性。</li>
    </ul>
  </li>
</ol>

<h2 id="工具学习">工具学习</h2>

<h3 id="一般工具学习的框架">一般工具学习的框架</h3>

<p><img src="/assets/posts_assets/Pasted%20image%2020241125193731.png" alt="" /></p>

<h4 id="tool-set">Tool Set</h4>

\[T=\{T_1,T_2,\dots \}\]

<ul>
  <li>工具集 T 包含一系列具有不同功能的工具。</li>
  <li>在接下来的章节中，我们主要以应用程序编程接口（API）作为例子来说明如何与工具互动。</li>
</ul>

<blockquote>
  <p>在这里，我们将 API 定义为任何可以将基础模型的输出作为输入的函数。例如，对于一个天气 API，API 的输入可能是位置和时间，而输出可能包含温度或风速。</p>
</blockquote>

<h4 id="environment">Environment</h4>
<p>\(\mathcal{E}\)</p>

<p>环境 $\mathcal{E}$ 是工具运行的世界</p>

<ol>
  <li>它向感知者提供工具的执行结果。</li>
  <li>它提供了工具执行所需的基础设施，这可以是虚拟的也可以是真实的。
    <ul>
      <li>前者指的是一个模拟环境，允许模型与工具的数字表示进行交互，而真实环境则涉及与物理工具的实际互动。</li>
      <li>虚拟环境的优势在于易于访问和复制，使得模型的培训更具成本效益。然而，虚拟环境可能无法完全复制真实世界环境的复杂性，导致过拟合和较差的泛化能力（Hansen 等，2021）。</li>
      <li>真实环境提供了更真实的背景，但可能更难以接触，并且涉及更高的成本。</li>
    </ul>
  </li>
</ol>

<h4 id="controller">Controller</h4>

\[\mathcal{C}\]

<p>控制器 $\mathcal{C}$ 作为工具学习框架的“大脑”，通常使用基础模型进行建模。</p>

<ul>
  <li>控制器 C 的目的是提供一个可行且精确的计划，以使用工具满足用户的请求</li>
  <li>制定计划：为此，C 应该理解用户意图，以及意图与可用工具之间的关系，然后制定一个计划，以选择适当的工具来处理任务.</li>
  <li>分解子任务：在查询复杂且针对高层次任务的情况下，C 可能需要将任务分解为多个子任务，这需要基础模型具备强大的规划和推理能力</li>
</ul>

<h4 id="perceiver">Perceiver</h4>
<p>\(\mathcal{P}\)
感知者 P 负责处理用户和环境的反馈，并生成一个摘要供控制器使用。</p>

<ul>
  <li>简单的反馈处理形式包括将用户和环境反馈进行连接，或使用预定义模板格式化反馈。</li>
  <li>然后，汇总的反馈被传递给控制器，以协助其决策。通过观察这些反馈，控制器可以确定生成的计划是否有效，以及在执行过程中是否存在需要解决的异常情况。</li>
  <li>在更复杂的情境下，感知者应能够支持多种模态，如文本、视觉和音频，以捕捉用户和环境反馈的多样性。</li>
</ul>

<h4 id="连接组件">连接组件</h4>

<h5 id="工作过程">工作过程</h5>

<p>假设有一个工具集 $\mathcal{T}$, 在时间步 $\mathcal{t}$ 的时候，执行以下步骤</p>

<ol>
  <li>环境 $\mathcal{E}$ 提供了工具执行的反馈 $e_t$</li>
  <li>感知者接受环境反馈 $e_t$ 和用户反馈 $f_t$ 并生成一个反馈总结 $x_t$
    <ul>
      <li>通常感知者可以通过预定义的规则（将 $e_t$ 与 $f_t$ 连接起来），或者使用神经网络建模</li>
    </ul>
  </li>
  <li>控制器 $\mathcal{C}$ 生成计划 $a_t$ 从工具集 $\mathcal{T}$ 中选择一个工具来执行</li>
</ol>

<p>公式：</p>

<p>\(p_{C}(a_{t})=p_{\theta_{C}}(a_{t}\mid x_{t},{\mathcal{H}}_{t},q)\)</p>
<ul>
  <li>$\theta_C$ 表示 C 的参数，q 表示用户的查询或指令，$\mathcal{H}<em>t = { (x_s,a_x)}^{t-1}</em>{s=0}$ 表示历史反馈和计划</li>
  <li>$\mathcal{C}$ 还可以将其推理过程与行动预测协同作用
    <ul>
      <li>子任务 1：选择工具 $T_i$ ​：从工具集合 T 中选择一个适合当前任务的工具。</li>
      <li>子任务 2：制定具体计划 $a_t$ ​：确定如何使用选择的工具执行动作。</li>
    </ul>
  </li>
</ul>

\[p_{\theta_{C}}(a_{t}\mid x_{t},{\mathcal{H}}_{t},q)=\sum__{i}\in{\mathcal{T}}}p_{\theta_{C}}(a_{t}\mid{\mathcal{T}}_{i},x_{t},{\mathcal{H}}_{t},q)\times p_{\theta_{C}}({\mathcal{T}}_{i}\mid x_{t},{\mathcal{H}}_{t},q),\]

<ol>
  <li>在生成计划 at 后，它将在 E 中执行，来自 E 的反馈 et+1 将被传递给感知者。上述过程会重复多轮，直到控制器完成任务。</li>
</ol>

<p>总体目标是找到一个动作序列{at}，最终实现用户指令 q 所指定的任务。请注意，在工具执行后，控制器可能还会将执行结果整合成一个合理的回应给用户</p>

<h5 id="例子">例子</h5>

<p>例如，给定“我想预定下周去北京的航班”这样的指令，</p>

<ol>
  <li>控制器 C 首先推断出用户的目标是预定航班，北京是目的地，下周是旅行时间。</li>
  <li>然后，模型选择航空公司预订系统作为工具。</li>
  <li>最后，它将时间和目的地输入作为初步计划。</li>
  <li>在进行预订的过程中，我们可能会面临意外情况，比如下周前往北京的航班不可用。为应对这些异常情况，我们可以进一步赋予 C 推理当前上下文的能力，并生成替代计划。</li>
</ol>

<h3 id="一般流程从意图到计划">一般流程：从意图到计划</h3>

<p>工具学习的总体过程需要不同组件之间的复杂交互。在本节中，我们将进一步阐述这一过程中的关键问题。</p>

<h4 id="理解用户的意图和工具">理解用户的意图和工具</h4>

<p>为了准确履行用户查询 q 指定的任务，控制器需要理解两个方面：</p>

<ul>
  <li>用户的根本意图，这涉及识别和形式化自然语言 q 为高层次任务（即意图理解）；</li>
  <li>工具集 T，这意味着理解其中每个工具的功能和目标（即工具理解）。</li>
</ul>

<h5 id="理解用户的意图">理解用户的意图</h5>

<ol>
  <li>指令微调：在用人类指令模板化的数据集上对大型语言模型进行微调，可以使模型甚至能够对未见任务的指令进行泛化</li>
  <li>挑战：
    <ol>
      <li>理解模糊指令。第一个挑战是处理用户查询中固有的模糊性和歧义。许多用户查询天生不精确，甚至可能是多义的，这要求控制器依赖于上下文线索和背景知识来推断用户的真实含义。
        <ul>
          <li>一种可能的解决方案是主动与用户互动，以澄清任何歧义，例如询问用户对先前查询的进一步说明。</li>
        </ul>
      </li>
      <li>对多样化指令的泛化。另一个挑战是使模型能够对更具多样性的用户指令进行泛化。由于意图空间在理论上是无限的，基础模型在训练期间几乎无法接触到每种现实世界的意图。
        <ul>
          <li>一种解决方案是引入更为多样化的训练数据，这些数据涵盖了广泛的真实世界场景，从而使模型能够学习不同指令的细微差别。</li>
          <li>另一种解决方案是利用用户反馈，主动地使模型适应个别用户，即个性化工具学习</li>
        </ul>
      </li>
    </ol>
  </li>
</ol>

<h5 id="理解工具">理解工具</h5>
<p>一般方法：prompt-learning</p>

<ul>
  <li>零样本提示（zero-shot prompting）：描述 API 的功能、输入/输出格式、可能的参数等。此方法允许模型理解每个 API 可以完成的任务。</li>
  <li>少样本提示（few-shot prompting）：为模型提供具体的工具使用示例，通过这些示例模仿人类行为，模型可以学习如何使用工具。</li>
</ul>

<p>挑战：</p>

<ul>
  <li>提示的效果很大程度上取决于模型本身的能力，能力较弱的模型可能无法很好地理解提示。</li>
  <li>提示受输入上下文长度的限制。当工具数量庞大且描述较长时，在一个提示中包含所有可能的工具信息变得不可行。</li>
</ul>

<p>解决方法：</p>

<ul>
  <li>一种潜在的解决方案是增加一个中间阶段的工具选择，首先检索一小部分最适合当前任务的工具。</li>
  <li>另一种解决方案是进行模型微调（Fine-tuning），优化模型以通过具体的工具使用案例来理解工具。</li>
</ul>

<h4 id="计划与推理">计划与推理</h4>

<blockquote>
  <p>如何通过推理和规划在工具学习中提升基础模型的能力，以及在复杂任务场景中的实现方法和挑战</p>

</blockquote>

<ol>
  <li>现有的 LLM 有涌现出来的推理能力</li>
  <li>定义推理：在基础模型中，推理能力通常被描述为“将复杂问题分解为子问题并逐步解决这些子问题的能力。</li>
  <li>一般方法：few-shot prompt learning、CoT</li>
</ol>

<ul>
  <li>推理研究可以分为两类：
    <ul>
      <li>内省式推理（Introspective Reasoning）：生成静态计划，不依赖环境交互。</li>
      <li>外向式推理（Extrospective Reasoning）：通过与环境交互迭代生成计划，并利用反馈调整计划。</li>
    </ul>
  </li>
</ul>

<h5 id="内省推理和外向式推理">内省推理和外向式推理</h5>

<ul>
  <li>
    <p><strong>内省式推理</strong>：</p>

    <ul>
      <li>在执行任务之前，生成一个静态的完整计划。</li>
      <li>不需要与环境或用户进行交互。</li>
      <li>优点：规划过程明确，适用于环境反馈较少的场景。</li>
      <li>局限性：如果任务中出现意外或环境改变，静态计划难以应对。</li>
    </ul>
  </li>
  <li>
    <p><strong>外向式推理</strong>：</p>

    <ul>
      <li>通过与环境交互逐步生成计划，每一步根据上一步的反馈进行调整。</li>
      <li>优点：能更好地处理动态变化的环境或任务中的意外情况。</li>
      <li>应用案例：
        <ul>
          <li>Self-Ask 和 ReAct（Yao et al., 2022b）：将任务分解为多个子问题，通过 API 或工具逐步回答。</li>
          <li>Auto-GPT：能够自动选择工具，分步完成复杂任务，同时优化计划。</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h5 id="多工具多子任务场景中的挑战">多工具、多子任务场景中的挑战</h5>

<ul>
  <li>
    <p><strong>任务分解复杂性</strong>：</p>

    <ul>
      <li>多工具、多子任务场景通常涉及多个步骤，这些步骤之间可能存在依赖关系，需要模型能够正确排序和选择工具。</li>
    </ul>
  </li>
  <li>
    <p><strong>模型要求</strong>：</p>

    <ul>
      <li>模型需要具备高水平的推理和环境适应能力。</li>
      <li>工具使用的切换成本较高，因此需要优化工具选择和执行效率。</li>
    </ul>
  </li>
  <li>
    <p><strong>当前研究的限制</strong>：</p>

    <ul>
      <li>现有研究更多关注单工具或单子任务的场景，对多工具、多步骤任务的探索较少。</li>
    </ul>
  </li>
</ul>

<h5 id="解决多工具任务的未来方向">解决多工具任务的未来方向</h5>

<ul>
  <li><strong>理解工具间依赖关系</strong>：模型需要识别任务中工具的优先级和依赖关系，以便合理安排工具调用顺序。</li>
  <li><strong>任务优化和效率提升</strong>： 优化模型在多工具任务中的执行效率，例如并行执行独立的子任务。</li>
  <li><strong>工具升级与动态适应</strong>：工具可能会更新或发生变化，模型需要具有适应能力，能够实时调整任务规划。</li>
</ul>

<h3 id="工具学习的训练策略">工具学习的训练策略</h3>

<ul>
  <li><strong>示范学习</strong>：通过观察标注数据掌握工具使用。</li>
  <li><strong>反馈学习</strong>：通过与环境和人类交互优化任务执行。</li>
</ul>

<h4 id="示范学习">示范学习</h4>

<p>数据集：$D = { (q_i, a_i^*) }_{i=0}^{N-1}$</p>

<ul>
  <li>用户查询 $q_i$：用户的输入或任务需求。</li>
  <li>人类标注 $a_i^*$：人类对如何处理该查询的示范。</li>
</ul>

<p>优化目标：</p>

<ul>
  <li>通过最大化以下公式来优化控制器参数 $\theta_C$：
\(\theta_C^* = \arg\max_{\theta_C} \mathbb{E}_{(q_i, a_i^*) \in D} \prod_{t=0}^{T_i} p_{\theta_C}(a_{i,t}^* \mid x_{i,t}, \mathcal{H}_{i,t}, q_i)\)</li>
  <li><strong>解释</strong>：
    <ol>
      <li><strong>目标</strong>：使控制器在处理用户查询 qiq_i 时，生成的人类标注 $a_i^*$的概率最大化。</li>
      <li><strong>公式中的变量</strong>：
        <ul>
          <li>$T_i$：处理 $q_i$ 的总迭代次数（任务需要的步骤数）。</li>
          <li>$a_{i, t}^*$：第 $t$ 次迭代中的人类标注（示范）。</li>
          <li>$x_{i, t}$：第 $t$ 次的总结反馈（来自环境的结果和用户的输入）。</li>
          <li>$\mathcal{H}_{i, t}$：历史记录，包含此前的反馈和动作。</li>
        </ul>
      </li>
    </ol>
  </li>
</ul>

<h5 id="监督学习">监督学习</h5>

<p>传统上，行为克隆在学习用于自主车辆和机器人应用的端到端或模块化感知-控制模型方面得到了广泛探索</p>

<p>例子：</p>

<ul>
  <li>WebGPT
    <ul>
      <li>作者首先构建了一个由 Bing 支持的搜索界面，然后微调 GPT-3（Brown 等，2020）以克隆人类的网页搜索行为。</li>
      <li>作为一个在通用领域上预训练的语言模型，原始的 GPT-3 在本质上并不依赖于有效的浏览器命令。因此，首先收集人类与浏览器交互的示例，然后学习状态到行动的映射是至关重要的。</li>
      <li>在微调后，该模型在操作搜索引擎进行信息检索方面表现出卓越的能力，甚至超过了人类专家。</li>
    </ul>
  </li>
  <li>WebShop:
    <ul>
      <li>提供了一个基于 web 的互动环境，代理可以浏览和购买产品。通过行为克隆，训练后的代理在根据人类指示购买正确产品方面表现出非平凡的性能。</li>
    </ul>
  </li>
</ul>

<h5 id="半监督学习">半监督学习</h5>

<ul>
  <li>有标签的数据比较难获得</li>
  <li>使用一个能力较弱的模型来为未标记数据标注伪标签，并将其转化为弱监督的工具使用示范。
    <ul>
      <li>例如，Baker 等人（2022）使用少量的种子标记数据训练模型，以预测在 Minecraft 视频游戏中每个时间步采取的行动的伪标签。通过学习这些伪标签，可以训练出一个更强大的模型，而无需在目标环境中推理模型或进行大规模的黄金标准人类行为标注。</li>
    </ul>
  </li>
</ul>

<h5 id="自监督学习">自监督学习</h5>

<ul>
  <li>自监督学习。尽管减少了对人类行为标注的严格要求，半监督学习仍然需要一个种子标记数据集来获取伪标签。</li>
  <li>
    <p>此外，种子数据集中的偏差在训练过程中可能会被放大，从而导致较差的泛化性能。</p>
  </li>
  <li>为此，研究人员最近表明，通过少量示例，基础模型可以自我学习如何以自监督的方式使用工具（Parisi et al., 2022；Schick et al., 2023）。
    <ul>
      <li>例如，Toolformer（Schick et al., 2023）利用基础模型的上下文学习能力，基于少量人工编写的示例迭代生成工具使用示例。这些自动生成的示例经过进一步过滤以减少噪声。最终的工具使用数据集包含足够的监督，从而显著提高了 GPT-J（Wang &amp; Komatsuzaki, 2021）的工具使用性能，突显了自监督学习在增强工具使用能力方面的潜力。</li>
    </ul>
  </li>
</ul>

<h4 id="反馈学习">反馈学习</h4>

<ul>
  <li>手动收集和标注工具使用的示例（可能包括完整的人类行为轨迹和最终答案）既耗时又劳动强度高。</li>
  <li>此外，所学的模型可能由于遵循记录下的人类行为而无法有效适应新环境。</li>
  <li>除此之外，明确标注环境条件和代理行为的每一种可能场景也是不切实际的</li>
  <li>相比之下，人类通过试错学习来纠正和修正他们的工具使用行为（Allen et al., 2019）。同样，来自环境和人类的反馈能够让模型理解其行为的后果，并适应其行为。</li>
</ul>

\[\theta_C^* = \arg\max_{\theta_C} \mathbb{E}_{q_i \in Q} \mathbb{E}_{\{a_{i,t}\}_{t=0}^{T_i} \sim p_{\theta_C}} \left[ R(\{a_{i,t}\}_{t=0}^{T_i}) \right],\]

<p>强化学习反馈来源：环境反馈和人类反馈，这可以被视为工具学习中的奖励信号来源。这两种反馈是互补的，可以相互结合。</p>

<h5 id="环境反馈">环境反馈</h5>

<p>控制器与环境互动，并接收有关其行为后果的反馈。模型随后根据这些反馈更新其策略，以改善工具使用行为。</p>

<p><strong>环境反馈的形式</strong>：</p>

<ul>
  <li>结果反馈：指示模型的行动是否成功完成了任务</li>
  <li>中间反馈：指的是由一个动作触发的环境状态变化。通过观察状态变化，基础模型可以学习每个动作是否有效和适当，从而更好地调整其行为</li>
</ul>

<h5 id="人类反馈">人类反馈</h5>

<p>人类可以根据模型生成的计划给予模型奖励和惩罚，以调节其行为。</p>

<p>显式：在 1 到 5 的评分标准上对模型生成的动作质量进行评分</p>

<p>隐式：用户的比较（Ouyang 等，2022），响应时间，以及在接收到模型输出后采取的行动（例如，点击推荐链接）</p>

<p>缺点：</p>

<ol>
  <li>是标签密集型的，</li>
  <li>并且具有较高的延迟</li>
</ol>

<p>解决方法：RLHF</p>

<p>挑战：</p>

<ol>
  <li>任务特定性：特定任务的相应评估标准需要预先定义，<strong>为一个任务标注的偏好数据难以转移到其他设置，这限制了 RLHF 在更广泛任务中的适用性</strong>。为此，开发一个普适的奖励模型以适应各种任务至关重要；</li>
  <li>偏见：RL 代理优化朝向伪人类奖励模型，因此可能受到人类偏好的上限和偏见。此外，社会偏见或个人经验可能在 RLHF 过程中被放大，因此必须仔细评估学习到的奖励模型是否存在任何偏见，并采取措施进行缓解。</li>
</ol>

<h4 id="工具学习泛化">工具学习泛化</h4>

<p>泛化也是工具学习的一个重要方面，尤其考虑到存在大量迅速扩展的工具。</p>

<p><strong>虽然对大量工具使用数据进行监督微调可以成为促进泛化的潜在解决方案，但收集足够的监督工具使用数据并确保其质量和多样性既耗时又在实践中不可行。</strong></p>

<p>抽象能力：抽象是识别工具的基本特征的过程。抽象涉及识别工具的共性和模式，以便模型能够合成和转移其知识和技能，使其能够轻松使用新工具。</p>

<h5 id="泛化的基础api-统一">泛化的基础：API 统一</h5>

<ul>
  <li>该接口使模型能够以一致和标准化的方式操作各种工具</li>
  <li>通过统一的接口，模型可以更容易地在统一的工具协议中识别和抽象工具的基本特征，而不是费力地理解各种工具接口。</li>
</ul>

<p>API 统一的三种方式：语义接口、图形用户界面（GUI）接口和编程接口。</p>

<h6 id="语义接口">语义接口</h6>

<p>构建自然语言与具体行动的映射</p>

<p>例子：比如，<strong>ReAct</strong>（Yao等人，2022年）使用“Action:Search”作为触发器，表示执行“搜索相关段落”这一功能。</p>

<p>优点：简便，直观，自然</p>

<p>缺点：</p>

<ul>
  <li>生成的文本和具体工具动作之间的映射需要事先定义，这一过程非常繁琐，尤其是当工具或系统的功能快速扩展时。</li>
  <li>模型可能无法准确生成触发特定动作的准确文本，这可能导致误触发不相关的动作。</li>
</ul>

<h6 id="gui-接口">GUI 接口</h6>

<p>GUI 已经被广泛优化了</p>

<p>但是有缺点：</p>

<ul>
  <li>必须建立一个虚拟环境，以便将预测的标记映射到类人鼠标移动和键盘输入上。</li>
  <li>这些环境将模型限制在一组有限的预定义鼠标选项和常见的键盘操作中。</li>
</ul>

<p>发展：</p>

<ul>
  <li>通过利用基础模型，可以引入关于常见关键字和鼠标操作组合的先验知识，从而扩大模型能够执行的潜在操作。</li>
</ul>

<h6 id="编程接口">编程接口</h6>

<p>这种接口允许模型超越纯自然语言，使用程序指定其操作。这种统一要求模型熟悉函数调用的语法</p>

<p>当前的工作：</p>

<ul>
  <li>最近的代码生成语言模型（CLM），如 Incoder（Fried 等，2022）和 CodeX（Chen 等，2021），提供了这种统一的可能性。</li>
  <li>编程接口得到了广泛应用。例如，Code-as-Policies（Liang 等，2022 a）发现，使用 CLM 作为机器人控制的基础，机器人可以利用代码语法执行复杂动作，推广到新指令，并以准确的参数值对函数进行精确控制。</li>
</ul>

<p>优点：</p>

<ul>
  <li>（1）复杂的工具学习逻辑可以使用编程语言的控制流进行建模；</li>
  <li>（2）外部 API 的显式调用可以通过执行程序自然实现。</li>
</ul>

<h6 id="挑战">挑战</h6>

<p><strong>接口选择应与基础模型的能力和局限性相一致</strong></p>

<ul>
  <li>语言基础模型训练用于生成文本，因此可能更适合语义接口。</li>
  <li>结合视觉和文本信息的多模态基础模型可能更适合图形用户界面，因为它可以理解和生成类人鼠标移动和键盘输入。</li>
  <li>代码基础模型可能更适合编程接口，因为它训练用于理解代码语法和函数调用</li>
</ul>

<p>工具的输出与模型输入格式不一致的挑战</p>

<p>解决办法：</p>

<ol>
  <li>一个常见的做法是将模型和工具的功能组合在同一模态中
    <ul>
      <li>例如，Zeng 等人（2022）通过将它们的输出转换为自然语言，将各种模态的基础模型链在一起。这种简单的方法利用提示组合新的多模态能力，而无需微调。</li>
    </ul>
  </li>
  <li>构建能够感知一般模态的多模态基础模型
    <ul>
      <li>Gato（Reed 等，2022）是一个典型的通用多体现代理，经过庞大代理经验数据集的训练。Gato 可以通过不同的体现进行感知和行动，例如玩雅达利游戏、为图像添加标题、聊天等。</li>
      <li>PaLM-E（Driess 等，2023）将不同模态的连续输入纳入预训练语言模型。通过对多个体现任务的联合训练，PaLM-E 能够在现实世界中做出基于事实的决策。</li>
    </ul>
  </li>
</ol>

<h5 id="工具学习泛化的策略">工具学习泛化的策略</h5>

<ul>
  <li>仅仅统一 API 的是不够的。</li>
  <li>可泛化工具学习要求模型进一步适应、细化和专业化其学习的知识，以满足特定任务或领域的需求</li>
</ul>

<h6 id="元工具学习">元工具学习</h6>

<p><strong>元认知（Metacognition）</strong> 是指个体反思自己思维过程的能力，在面对陌生情境时能够调整自己的行为。</p>

<p>在工具学习中，元认知指的是模型能够反思自己的学习过程，并在需要时调整或改进工具使用策略。</p>

<ul>
  <li><strong>元工具学习的核心思想</strong>是让模型能够根据之前的经验调整其工具使用策略，从而迁移到新任务或新领域。
    <ul>
      <li>例如，假设一个模型已经在<strong>Bing搜索引擎</strong>上进行过训练，当该模型迁移到<strong>Google搜索引擎</strong>时，它可以通过元认知能力，识别出在搜索引擎使用中常见的策略模式（如有效的搜索查询、相关的结果以及用户反馈），并基于这些经验，调整自己的搜索策略，以适应新的搜索引擎的算法和用户界面。</li>
    </ul>
  </li>
  <li>优点：这种能力使得模型能够在新的环境中更加智能地调整自己，从而提高其在不同工具和任务之间的迁移能力。</li>
</ul>

<h6 id="课程工具学习">课程工具学习</h6>

<p><strong>课程学习（Curriculum Learning）</strong> 是一种从简单到复杂的学习方法。它从基础工具入手，逐步引导模型学习更复杂的工具，从而使模型能够在先前知识的基础上逐渐建立对工具的更深理解。</p>

<ul>
  <li><strong>课程工具学习的核心思想</strong>是从最简单的工具或基本概念开始，逐步引入更复杂的工具或操作。这种方法确保模型先学习工具的基本特性，再逐渐深入到更复杂的应用。
    <ul>
      <li>例如，在教授一个模型使用<strong>Mathematica</strong>时，首先可以从基础的加法和减法开始，逐步引导模型学习更复杂的数学概念，比如微积分和线性代数。通过这种方法，模型能够理解复杂工具是如何建立在简单工具的基础上的，并能够把简单工具的知识迁移到更复杂的工具上</li>
    </ul>
  </li>
  <li>优点：
    <ul>
      <li><strong>理解工具之间的关系</strong>：课程工具学习不仅帮助模型掌握个别工具的使用，还帮助模型理解复杂工具是如何通过多个基本工具组合而成的。这种理解可以帮助模型更好地识别工具之间的相似性和差异性，从而在面对新工具时，能够更有效地调整自己的策略。</li>
      <li><strong>渐进式学习</strong>：通过从简单到复杂的逐步引导，课程学习确保了模型在面对更高阶的工具时不会感到过于复杂或困惑。模型可以基于以前学过的内容逐步建立对新任务的理解。</li>
    </ul>
  </li>
</ul>

<h2 id="应用与实验">应用与实验</h2>

<p>我们旨在探索工具学习的应用，并调查最先进基础模型在使用工具方面的有效性和局限性。</p>

<p><img src="/assets/posts_assets/Pasted%20image%2020241127132435.png" alt="" /></p>

<p>“# APIs”表示每个工具对应的 API 数量。测试集是指我们在进行实验时使用的数据集。我们展示了三种设置的结果，即无工具、零-shot、少-shot。Text-davinci-003 的结果以白色背景显示，而 ChatGPT 的结果则以青色背景显示。</p>

<p>结论：</p>

<ol>
  <li>在大多数情况下，模型可以通过简单的提示有效地学习如何使用工具，并提高其任务表现。</li>
  <li>次优会产生负影响：对于模型可以利用其内部知识解决的任务（例如计算器和搜索引擎的案例），使用零-shot 提示的工具有时会导致更差的性能，这意味着非最佳的工具使用可能会对表现产生负面影响。</li>
  <li>工具有用：结合少量提示的工具仍然始终能带来优于未使用工具的表现。这强调了工具在问题解决中所能带来的具体好处，前提是它们被有效地使用。</li>
  <li>比较 ChatGPT 和 text-davinci-003 的表现，我们观察到，尽管 ChatGPT 经过了 RLHF 的微调，但其结果并不优于 text-davinci-003。
    <ul>
      <li>原因猜测：首先，即 Ouyang 等人（2022）提到的 alignment tax 问题，即在 RLHF 训练过程中，特定任务技能和上下文学习能力受到损害；</li>
      <li>猜测Chatgpt 规模比 text-davinci-003 小</li>
    </ul>
  </li>
  <li>工具使用效果：检查 API 调用的成功率
    <ol>
      <li>我们观察到在少量提示设置下，某些工具如地图、天气、幻灯片、表格、烹饪助手和 AI 绘画显示出令人满意的完成率。这些工具被认为比其他工具更容易。实际上，我们通过实证发现，无论是 ChatGPT 还是 text-davinci-003 都能熟练地使用这些工具，尽管没有直接针对这些工具进行微调。</li>
      <li>对于一些工具如知识图谱、维基百科、在线购物和 3 D 模型构建，即使在少量提示下，模型的表现仍然远未令人满意。其原因可能是这些工具的使用不能通过少量示例轻易学习。例如，要求生成可执行代码作为 API 参数的工具，如知识图谱工具中的 search_by_query API（详见附录A.9），被发现明显更为困难。这意味着有必要训练基础模型使用工具。</li>
    </ol>
  </li>
</ol>

<h2 id="讨论">讨论</h2>

<ol>
  <li>安全问题</li>
  <li>复杂系统中工具学习</li>
  <li>自主工具创造</li>
  <li>从一般智能到个性化智能</li>
  <li>工具学习和具身智能</li>
  <li>整合工具后的知识冲突（类似 RAG 的知识冲突）</li>
</ol>

<h3 id="知识冲突">知识冲突</h3>

<h4 id="1-模型知识与增强知识之间的冲突">1. <strong>模型知识与增强知识之间的冲突</strong></h4>

<p>这种冲突是指模型本身的知识和通过外部工具增强的知识之间出现的不一致，主要由以下三种原因导致：</p>

<ul>
  <li>
    <p><strong>模型知识过时</strong>：基础模型（如语言模型）通常在训练过程中使用的是某个时间点的数据，而这些数据在模型训练后并不常更新。因此，模型所拥有的知识可能已经过时。而大多数增强工具（如搜索引擎或实时数据工具）能够提供最新的知识，这种新知识可能与模型中的旧知识发生冲突。</p>
  </li>
  <li>
    <p><strong>训练数据质量不高</strong>：模型的训练数据可能并没有经过严格筛选，甚至可能包含错误的知识，比如人类的误解或错误的信仰。增强工具（如维基百科等可靠的来源）提供的知识可能会将这些错误信息放大，导致模型和工具之间的知识冲突。</p>
  </li>
  <li>
    <p><strong>工具执行结果的误导性和偏差</strong>：增强工具的执行结果可能存在偏差或误导性，特别是在处理信息时，工具可能根据某些算法或数据的局限性提供不完全或不准确的答案。因此，用户必须谨慎判断知识来源的可信度，以避免错误信息的影响。</p>
  </li>
</ul>

<h4 id="2-不同工具之间的增强知识冲突">2. <strong>不同工具之间的增强知识冲突</strong></h4>

<p>在实际应用中，控制器（例如一个智能系统）可能会使用多个工具来获取更多全面和精准的知识。然而，不同工具返回的信息可能会因为以下几个原因而产生冲突：</p>

<ul>
  <li>
    <p><strong>工具的可信度差异</strong>：不同工具的可信度存在显著差异，某些工具可能在特定领域具有更高的可靠性。例如，<strong>Google Scholar</strong>在科学研究领域的准确性远高于某些不那么权威的资源。因此，如果使用多个工具，可能会得到不同质量的信息，造成知识冲突。</p>
  </li>
  <li>
    <p><strong>工具的偏见</strong>：不同工具可能包含不同的偏见，这会影响它们提供的信息。例如，一个新闻聚合器可能为了吸引读者点击而优先展示耸人听闻的头条新闻，而忽略了更准确的报道，导致对某些事件的片面解读。</p>
  </li>
  <li>
    <p><strong>相同功能工具的不同表现</strong>：即使是同类工具，因其内部算法和实现方式的不同，可能会得出不同的结论。例如，<strong>Bing Translator</strong>和<strong>Google Translator</strong>对于同一文本的翻译结果可能有所不同，因为它们的翻译模型和数据处理方法不同。这种差异可能导致相互矛盾的信息出现。</p>
  </li>
</ul>

</div><section class="article__sharing d-print-none"></section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2024-11-18T00:00:00+08:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">订阅</a></div>
</div><div class="article__license"><div class="license">
    <p>本文遵守 <a itemprop="license" rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">Attribution-NonCommercial 4.0 International</a> 许可协议。
      <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">
        <img alt="Attribution-NonCommercial 4.0 International" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" />
      </a>
    </p>
  </div></div></footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>上篇</span><a href="/2024/11/18/LoRA-LOW-RANK-ADAPTATION-%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0.html">LoRA LOW-RANK ADAPTATION 论文笔记</a></div><div class="next"><span>下篇</span><a href="/2024/11/29/Tool-Learning-through-Simulated-Trial-and-Error%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0.html">Tool Learning through Simulated Trial and Error论文笔记</a></div></div></div>

</div>

<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    $(function() {
      var $this ,$scroll;
      var $articleContent = $('.js-article-content');
      var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
      var scroll = hasSidebar ? '.js-page-main' : 'html, body';
      $scroll = $(scroll);

      $articleContent.find('.highlight').each(function() {
        $this = $(this);
        $this.attr('data-lang', $this.find('code').attr('data-lang'));
      });
      $articleContent.find('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').each(function() {
        $this = $(this);
        $this.append($('<a class="anchor d-print-none" aria-hidden="true"></a>').html('<i class="fas fa-anchor"></i>'));
      });
      $articleContent.on('click', '.anchor', function() {
        $scroll.scrollToAnchor('#' + $(this).parent().attr('id'), 400);
      });
    });
  });
})();
</script>
</div><section class="page__comments d-print-none"><div id="vcomments"></div><script>
  window.Lazyload.js(['//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js', 'https://unpkg.com/valine/dist/Valine.min.js'], function() {
    var _config = {
      el: '#vcomments',
      appId:  'ONcOJaEzueQcEXVrHVv5dQ4F-gzGzoHsz',
      appKey: '0iORBozCMxniZ0spe5QY9zCO',
      verify: true,
    };_config.lang = 'en';new Valine(_config);
  });
</script></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xingjie Gao"><meta itemprop="url" content="/"><meta itemprop="description" content="To be a question, to be an answer."><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><li title="给我发邮件。">
      <a class="button button--circle mail-button" itemprop="email" href="mailto:xingjie-gao@outlook.com" target="_blank">
        <i class="fas fa-envelope"></i>
      </a><li title="在 Github 上关注我。">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/Kfkcome" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© Ennis's Blog 2021,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
    </div>
  </div>
</footer>
</div></div>
    </div><script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $body = $('body'), $window = $(window);
    var $pageRoot = $('.js-page-root'), $pageMain = $('.js-page-main');
    var activeCount = 0;
    function modal(options) {
      var $root = this, visible, onChange, hideWhenWindowScroll = false;
      var scrollTop;
      function setOptions(options) {
        var _options = options || {};
        visible = _options.initialVisible === undefined ? false : show;
        onChange = _options.onChange;
        hideWhenWindowScroll = _options.hideWhenWindowScroll;
      }
      function init() {
        setState(visible);
      }
      function setState(isShow) {
        if (isShow === visible) {
          return;
        }
        visible = isShow;
        if (visible) {
          activeCount++;
          scrollTop = $(window).scrollTop() || $pageMain.scrollTop();
          $root.addClass('modal--show');
          $pageMain.scrollTop(scrollTop);
          activeCount === 1 && ($pageRoot.addClass('show-modal'), $body.addClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.on('scroll', hide);
          $window.on('keyup', handleKeyup);
        } else {
          activeCount > 0 && activeCount--;
          $root.removeClass('modal--show');
          $window.scrollTop(scrollTop);
          activeCount === 0 && ($pageRoot.removeClass('show-modal'), $body.removeClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.off('scroll', hide);
          $window.off('keyup', handleKeyup);
        }
        onChange && onChange(visible);
      }
      function show() {
        setState(true);
      }
      function hide() {
        setState(false);
      }
      function handleKeyup(e) {
        // Char Code: 27  ESC
        if (e.which ===  27) {
          hide();
        }
      }
      setOptions(options);
      init();
      return {
        show: show,
        hide: hide,
        $el: $root
      };
    }
    $.fn.modal = modal;
  });
})();
</script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"><script>
(function () {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    // search panel
    var search = (window.search || (window.search = {}));
    var useDefaultSearchBox = window.useDefaultSearchBox === undefined ?
      true : window.useDefaultSearchBox ;

    var $searchModal = $('.js-page-search-modal');
    var $searchToggle = $('.js-search-toggle');
    var searchModal = $searchModal.modal({ onChange: handleModalChange, hideWhenWindowScroll: true });
    var modalVisible = false;
    search.searchModal = searchModal;

    var $searchBox = null;
    var $searchInput = null;
    var $searchClear = null;

    function getModalVisible() {
      return modalVisible;
    }
    search.getModalVisible = getModalVisible;

    function handleModalChange(visible) {
      modalVisible = visible;
      if (visible) {
        search.onShow && search.onShow();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].focus();
      } else {
        search.onShow && search.onHide();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].blur();
        setTimeout(function() {
          useDefaultSearchBox && ($searchInput.val(''), $searchBox.removeClass('not-empty'));
          search.clear && search.clear();
          window.pageAsideAffix && window.pageAsideAffix.refresh();
        }, 400);
      }
    }

    $searchToggle.on('click', function() {
      modalVisible ? searchModal.hide() : searchModal.show();
    });
    // Char Code: 83  S, 191 /
    $(window).on('keyup', function(e) {
      if (!modalVisible && !window.isFormElement(e.target || e.srcElement) && (e.which === 83 || e.which === 191)) {
        modalVisible || searchModal.show();
      }
    });

    if (useDefaultSearchBox) {
      $searchBox = $('.js-search-box');
      $searchInput = $searchBox.children('input');
      $searchClear = $searchBox.children('.js-icon-clear');
      search.getSearchInput = function() {
        return $searchInput.get(0);
      };
      search.getVal = function() {
        return $searchInput.val();
      };
      search.setVal = function(val) {
        $searchInput.val(val);
      };

      $searchInput.on('focus', function() {
        $(this).addClass('focus');
      });
      $searchInput.on('blur', function() {
        $(this).removeClass('focus');
      });
      $searchInput.on('input', window.throttle(function() {
        var val = $(this).val();
        if (val === '' || typeof val !== 'string') {
          search.clear && search.clear();
        } else {
          $searchBox.addClass('not-empty');
          search.onInputNotEmpty && search.onInputNotEmpty(val);
        }
      }, 400));
      $searchClear.on('click', function() {
        $searchInput.val(''); $searchBox.removeClass('not-empty');
        search.clear && search.clear();
      });
    }
  });
})();
</script><div class="search search--dark">
  <div class="main">
    <div class="search__header">搜索</div>
    <div class="search-bar">
      <div class="search-box js-search-box">
        <div class="search-box__icon-search"><i class="fas fa-search"></i></div>
        <input type="text" />
        <div class="search-box__icon-clear js-icon-clear">
          <a><i class="fas fa-times"></i></a>
        </div>
      </div>
      <button class="button button--theme-dark button--pill search__cancel js-search-toggle">
        取消</button>
    </div>
    <div class="search-result js-search-result"></div>
  </div>
</div>
<script>var SOURCES = window.TEXT_VARIABLES.sources;
var PAHTS = window.TEXT_VARIABLES.paths;
window.Lazyload.js([SOURCES.jquery, PAHTS.search_js], function() {
  var search = (window.search || (window.search = {}));
  var searchData = window.TEXT_SEARCH_DATA || {};

  function memorize(f) {
    var cache = {};
    return function () {
      var key = Array.prototype.join.call(arguments, ',');
      if (key in cache) return cache[key];
      else return cache[key] = f.apply(this, arguments);
    };
  }

  /// search
  function searchByQuery(query) {
    var i, j, key, keys, cur, _title, result = {};
    keys = Object.keys(searchData);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      for (j = 0; j < searchData[key].length; j++) {
        cur = searchData[key][j], _title = cur.title;
        if ((result[key] === undefined || result[key] && result[key].length < 4 )
          && _title.toLowerCase().indexOf(query.toLowerCase()) >= 0) {
          if (result[key] === undefined) {
            result[key] = [];
          }
          result[key].push(cur);
        }
      }
    }
    return result;
  }

  var renderHeader = memorize(function(header) {
    return $('<p class="search-result__header">' + header + '</p>');
  });

  var renderItem = function(index, title, url) {
    return $('<li class="search-result__item" data-index="' + index + '"><a class="button" href="' + url + '">' + title + '</a></li>');
  };

  function render(data) {
    if (!data) { return null; }
    var $root = $('<ul></ul>'), i, j, key, keys, cur, itemIndex = 0;
    keys = Object.keys(data);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      $root.append(renderHeader(key));
      for (j = 0; j < data[key].length; j++) {
        cur = data[key][j];
        $root.append(renderItem(itemIndex++, cur.title, cur.url));
      }
    }
    return $root;
  }

  // search box
  var $result = $('.js-search-result'), $resultItems;
  var lastActiveIndex, activeIndex;

  function clear() {
    $result.html(null);
    $resultItems = $('.search-result__item'); activeIndex = 0;
  }
  function onInputNotEmpty(val) {
    $result.html(render(searchByQuery(val)));
    $resultItems = $('.search-result__item'); activeIndex = 0;
    $resultItems.eq(0).addClass('active');
  }

  search.clear = clear;
  search.onInputNotEmpty = onInputNotEmpty;

  function updateResultItems() {
    lastActiveIndex >= 0 && $resultItems.eq(lastActiveIndex).removeClass('active');
    activeIndex >= 0 && $resultItems.eq(activeIndex).addClass('active');
  }

  function moveActiveIndex(direction) {
    var itemsCount = $resultItems ? $resultItems.length : 0;
    if (itemsCount > 1) {
      lastActiveIndex = activeIndex;
      if (direction === 'up') {
        activeIndex = (activeIndex - 1 + itemsCount) % itemsCount;
      } else if (direction === 'down') {
        activeIndex = (activeIndex + 1 + itemsCount) % itemsCount;
      }
      updateResultItems();
    }
  }

  // Char Code: 13  Enter, 37  ⬅, 38  ⬆, 39  ➡, 40  ⬇
  $(window).on('keyup', function(e) {
    var modalVisible = search.getModalVisible && search.getModalVisible();
    if (modalVisible) {
      if (e.which === 38) {
        modalVisible && moveActiveIndex('up');
      } else if (e.which === 40) {
        modalVisible && moveActiveIndex('down');
      } else if (e.which === 13) {
        modalVisible && $resultItems && activeIndex >= 0 && $resultItems.eq(activeIndex).children('a')[0].click();
      }
    }
  });

  $result.on('mouseover', '.search-result__item > a', function() {
    var itemIndex = $(this).parent().data('index');
    itemIndex >= 0 && (lastActiveIndex = activeIndex, activeIndex = itemIndex, updateResultItems());
  });
});
</script>
</div></div>


<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function scrollToAnchor(anchor, duration, callback) {
      var $root = this;
      $root.animate({ scrollTop: $(anchor).position().top }, duration, function() {
        window.history.replaceState(null, '', window.location.href.split('#')[0] + anchor);
        callback && callback();
      });
    }
    $.fn.scrollToAnchor = scrollToAnchor;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function affix(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroll,
        offsetBottom = 0, scrollTarget = window, scroll = window.document, disabled = false, isOverallScroller = true,
        rootTop, rootLeft, rootHeight, scrollBottom, rootBottomTop,
        hasInit = false, curState;

      function setOptions(options) {
        var _options = options || {};
        _options.offsetBottom && (offsetBottom = _options.offsetBottom);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroll && (scroll = _options.scroll);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $scrollTarget = $(scrollTarget);
        isOverallScroller = window.isOverallScroller($scrollTarget[0]);
        $scroll = $(scroll);
      }
      function preCalc() {
        top();
        rootHeight = $root.outerHeight();
        rootTop = $root.offset().top + (isOverallScroller ? 0 :  $scrollTarget.scrollTop());
        rootLeft = $root.offset().left;
      }
      function calc(needPreCalc) {
        needPreCalc && preCalc();
        scrollBottom = $scroll.outerHeight() - offsetBottom - rootHeight;
        rootBottomTop = scrollBottom - rootTop;
      }
      function top() {
        if (curState !== 'top') {
          $root.removeClass('fixed').css({
            left: 0,
            top: 0
          });
          curState = 'top';
        }
      }
      function fixed() {
        if (curState !== 'fixed') {
          $root.addClass('fixed').css({
            left: rootLeft + 'px',
            top: 0
          });
          curState = 'fixed';
        }
      }
      function bottom() {
        if (curState !== 'bottom') {
          $root.removeClass('fixed').css({
            left: 0,
            top: rootBottomTop + 'px'
          });
          curState = 'bottom';
        }
      }
      function setState() {
        var scrollTop = $scrollTarget.scrollTop();
        if (scrollTop >= rootTop && scrollTop <= scrollBottom) {
          fixed();
        } else if (scrollTop < rootTop) {
          top();
        } else {
          bottom();
        }
      }
      function init() {
        if(!hasInit) {
          var interval, timeout;
          calc(true); setState();
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState();
          });
          $window.on('resize', function() {
            disabled || (calc(true), setState());
          });
          hasInit = true;
        }
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions,
        refresh: function() {
          calc(true, { animation: false }); setState();
        }
      };
    }
    $.fn.affix = affix;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function toc(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroller, $tocUl = $('<ul class="toc toc--ellipsis"></ul>'), $tocLi, $headings, $activeLast, $activeCur,
        selectors = 'h1,h2,h3', container = 'body', scrollTarget = window, scroller = 'html, body', disabled = false,
        headingsPos, scrolling = false, hasRendered = false, hasInit = false;

      function setOptions(options) {
        var _options = options || {};
        _options.selectors && (selectors = _options.selectors);
        _options.container && (container = _options.container);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroller && (scroller = _options.scroller);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $headings = $(container).find(selectors).filter('[id]');
        $scrollTarget = $(scrollTarget);
        $scroller = $(scroller);
      }
      function calc() {
        headingsPos = [];
        $headings.each(function() {
          headingsPos.push(Math.floor($(this).position().top));
        });
      }
      function setState(element, disabled) {
        var scrollTop = $scrollTarget.scrollTop(), i;
        if (disabled || !headingsPos || headingsPos.length < 1) { return; }
        if (element) {
          $activeCur = element;
        } else {
          for (i = 0; i < headingsPos.length; i++) {
            if (scrollTop >= headingsPos[i]) {
              $activeCur = $tocLi.eq(i);
            } else {
              $activeCur || ($activeCur = $tocLi.eq(i));
              break;
            }
          }
        }
        $activeLast && $activeLast.removeClass('active');
        ($activeLast = $activeCur).addClass('active');
      }
      function render() {
        if(!hasRendered) {
          $root.append($tocUl);
          $headings.each(function() {
            var $this = $(this);
            $tocUl.append($('<li></li>').addClass('toc-' + $this.prop('tagName').toLowerCase())
              .append($('<a></a>').text($this.text()).attr('href', '#' + $this.prop('id'))));
          });
          $tocLi = $tocUl.children('li');
          $tocUl.on('click', 'a', function(e) {
            e.preventDefault();
            var $this = $(this);
            scrolling = true;
            setState($this.parent());
            $scroller.scrollToAnchor($this.attr('href'), 400, function() {
              scrolling = false;
            });
          });
        }
        hasRendered = true;
      }
      function init() {
        var interval, timeout;
        if(!hasInit) {
          render(); calc(); setState(null, scrolling);
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState(null, scrolling);
          });
          $window.on('resize', window.throttle(function() {
            if (!disabled) {
              render(); calc(); setState(null, scrolling);
            }
          }, 100));
        }
        hasInit = true;
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions
      };
    }
    $.fn.toc = toc;
  });
})();
/*(function () {

})();*/
</script><script>
  /* toc must before affix, since affix need to konw toc' height. */(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  var TOC_SELECTOR = window.TEXT_VARIABLES.site.toc.selectors;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window);
    var $articleContent = $('.js-article-content');
    var $tocRoot = $('.js-toc-root'), $col2 = $('.js-col-aside');
    var toc;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
    var hasToc = $articleContent.find(TOC_SELECTOR).length > 0;

    function disabled() {
      return $col2.css('display') === 'none' || !hasToc;
    }

    tocDisabled = disabled();

    toc = $tocRoot.toc({
      selectors: TOC_SELECTOR,
      container: $articleContent,
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      tocDisabled = disabled();
      toc && toc.setOptions({
        disabled: tocDisabled
      });
    }, 100));

  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window), $pageFooter = $('.js-page-footer');
    var $pageAside = $('.js-page-aside');
    var affix;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');

    affix = $pageAside.affix({
      offsetBottom: $pageFooter.outerHeight(),
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      scroll: hasSidebar ? $('.js-page-main').children() : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      affix && affix.setOptions({
        disabled: tocDisabled
      });
    }, 100));

    window.pageAsideAffix = affix;
  });
})();
</script><script>
  window.Lazyload.js(['https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js', 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js'], function() {
    var $canvas = null, $this = null, _ctx = null, _text = '';
    $('.language-chart').each(function(){
      $this = $(this);
      $canvas = $('<canvas></canvas>');
      _text = $this.text();
      $this.text('').append($canvas);
      _ctx = $canvas.get(0).getContext('2d');
      (_ctx && _text) && (new Chart(_ctx, JSON.parse(_text)) && $this.attr('data-processed', true));
    });
  });
</script>
<script type="text/x-mathjax-config">
	var _config = { tex2jax: {
		inlineMath: [['$','$'], ['\\(','\\)']]
	}};_config.TeX = { equationNumbers: { autoNumber: "all" } };MathJax.Hub.Config(_config);
</script>
<script type="text/javascript" src="/assets/MathJax/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  window.Lazyload.js('https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js', function() {
    mermaid.initialize({
      startOnLoad: true
    });
    mermaid.init(undefined, '.language-mermaid');
  });
</script>
<script>(function() {
  function errorHandler(error, callback) {
    if (error) {
      callback && callback(error);
      throw error;
    }
  }

  function pageview(_AV, options) {
    var AV = _AV;
    var appId, appKey, appClass;
    appId = options.appId;
    appKey = options.appKey;
    appClass = options.appClass;
    if (!AV.applicationId) {
      AV.init({
        serverURLs: 'https://avoscloud.com',
        appId: appId,
        appKey: appKey
      });
    } else {
      console.log('LeanCloud SDK 已经初始化过了。');
    }
    return {
      get: get,
      increase: increase
    };

    function searchKey(key) {
      var query = new AV.Query(appClass);
      query.equalTo('key', key);
      return query.first();
    }

    function insert(key, title) {
      var Blog = AV.Object.extend(appClass);
      var blog = new Blog();
      blog.set('title', title);
      blog.set('key', key);
      blog.set('views', 0);
      return blog.save();
    }

    function increment(result) {
      result.increment('views', 1);
      return result.save(null, {
        fetchWhenSave: true
      });
    }

    function get(key, callback) {
      searchKey(key).then(function(result) {
        if (result) {
          callback && callback(result.attributes.views);
        }
      }, errorHandler);
    }

    function increase(key, title, callback) {
      searchKey(key).then(function(result) {
        if (result) {
          increment(result).then(function(result) {
            callback && callback(result.attributes.views);
          });
        } else {
          insert(key, title).then(function(result) {
            increment(result).then(function(result) {
              callback && callback(result.attributes.views);
            });
          }, errorHandler);
        }
      }, errorHandler);
    }
  }
  window.pageview = pageview;
})();
</script>
  <script>
    window.Lazyload.js(['https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js', '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js'], function() {
      var pageview = window.pageview(AV, {
        appId:    'ONcOJaEzueQcEXVrHVv5dQ4F-gzGzoHsz',
        appKey:   '0iORBozCMxniZ0spe5QY9zCO',
        appClass: 'Test'
      });
      var key =   'post69';
      var title = "Tool Learning with Foundation Models 论文笔记";
      pageview.increase(key, title, function(view) {
        $("[data-page-key='post69']").text(view);
      });
    });
  </script>
    </div>
    <script>(function () {
  var $root = document.getElementsByClassName('root')[0];
  if (window.hasEvent('touchstart')) {
    $root.dataset.isTouch = true;
    document.addEventListener('touchstart', function(){}, false);
  }
})();
</script>
  </body>
</html>

